

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <title>gist.vim at master from mattn's gist-vim &mdash; GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub" />

    
      <link href="/stylesheets/bundle.css?c7aded13928b9bcd0064b8ff69efef7750cb75f1" media="screen" rel="stylesheet" type="text/css" />
    

    
      
        <script src="/javascripts/bundle.js?c7aded13928b9bcd0064b8ff69efef7750cb75f1" type="text/javascript"></script>
      
    
    
  
    
  

  <link href="http://github.com/feeds/mattn/commits/gist-vim/master" rel="alternate" title="Recent Commits to gist-vim:master" type="application/atom+xml" />


    
  </head>

  

  <body>
    
      <div id="site_alert">
        <div class="site">
          <p>Help us out! <a href="http://crunchies2008.techcrunch.com/nominations/" target="_blank">Nominate GitHub for the Best Bootstrapped Startup, Best 2008 Startup, and Best Overall Crunchies!</a>
<small><a href="#" class="hide_crunchie">[ hide ]</a></small>
          </p>
        </div>
      </div>
    

    <div id="main">
      <div id="header" class="">
        <div class="site">
          <div class="logo">
            <a href="/"><img src="/images/modules/header/logo.png" alt="git-hub" /></a>
          </div>
          
            <div class="corner userbox">
  <div class="box">
    <div class="gravatar">
      <a href="/"><img alt="" height="40" src="http://www.gravatar.com/avatar/7009ffa293f467fd8cf93574363a366f?s=40&amp;d=http%3A%2F%2Fgithub.com%2Fimages%2Fgravatars%2Fgravatar-40.png" width="40" /></a>
    </div>

    <div class="top">
      <div class="name">
        <a href="/">neh</a>
      </div>
      <div class="links">
        <a href="/account">account</a> |
        <a href="/neh">profile</a> |
        <a href="/guides">guides</a> |
        <a href="/logout">log out</a>
      </div>
    </div>

    <div class="bottom">
      <div class="select">
        <div class="site_links">
          repositories: 
          <a href="/repositories">all</a> |
          <a href="/search" class="search_repos_link">search</a>
        </div>

        <form action="/search" class="search_repos" method="get" style="display:none;">
          <input id="q" name="q" size="18" type="search" /> 
          <input type="submit" value="Search" />
          <a href="#" class="cancel_search_link">x</a>
        </form>
      </div>
      
      <div class="inbox"> <span><a href="/inbox">0</a></span> </div>
    </div>
  </div>
</div>

          
        </div>
      </div>
      
      
        
  <div id="repo_menu">
    <div class="site">
      <ul>
        
          <li class="active"><a href="/mattn/gist-vim/tree/master">Source</a></li>

          <li class=""><a href="/mattn/gist-vim/commits/master">Commits</a></li>

          <li class=""><a href="/mattn/gist-vim/graphs">Graphs</a></li>

          <li class=""><a href="/mattn/gist-vim/wikis">Wiki (1)</a></li>

          <li class=""><a href="/mattn/gist-vim/watchers">Watchers (16)</a></li>

          <li class=""><a href="/mattn/gist-vim/network">Network (3)</a></li>

          

        
      </ul>
    </div>
  </div>

  <div id="repo_sub_menu">
    <div class="site">
      <div class="joiner"></div>
      

      

      
        <ul>
          <li>
            <a class="active" href="/mattn/gist-vim/tree/c7d6d248ff8c9e8f48ce45436a8af880c456e4f9">master</a>
          </li>
          <li>
            <a href="#">all branches</a>
            <ul>
              
                
                  <li><a href="/mattn/gist-vim/tree/master">master</a></li>
                
              
            </ul>
          </li>
          <li>
            <a href="#">all tags</a>
            
          </li>
        </ul>

      
    </div>
  </div>

  <div class="site">
    



<div id="repos">
  



  <div class="repo public">
    <div class="title">
      <div class="path">
        <a href="/mattn">mattn</a> / <b><a href="/mattn/gist-vim/tree">gist-vim</a></b>
  
        
  
          
  
          
            
  
            
              
              <a href="/mattn/gist-vim/fork"><img alt="fork" class="button" src="/images/modules/repos/fork_button.png?c7aded13928b9bcd0064b8ff69efef7750cb75f1" /></a> 
            
          
  
          <a href="/mattn/gist-vim/toggle_watch" class="toggle_watch"><img alt="watch" class="button" src="/images/modules/repos/watch_button.png?c7aded13928b9bcd0064b8ff69efef7750cb75f1" /></a><a href="/mattn/gist-vim/toggle_watch" class="toggle_watch" style="display:none;"><img alt="watch" class="button" src="/images/modules/repos/unwatch_button.png?c7aded13928b9bcd0064b8ff69efef7750cb75f1" /></a>
  
          
            <a href="#" id="download_button" rel="/mattn/gist-vim/downloads/master"><img alt="download tarball" class="button" src="/images/modules/repos/download_button.png?c7aded13928b9bcd0064b8ff69efef7750cb75f1" /></a> 
          
        
      </div>
  
      <div class="security private_security" style="display:none">
        <a href="#private_repo" rel="facebox"><img src="/images/icons/private.png" alt="private" /></a>
      </div>
  
      <div id="private_repo" class="hidden">
        This repository is private.  
        All pages are served over SSL and all pushing and pulling is done over SSH.
        No one may fork, clone, or view it unless they are added as a <a href="/mattn/gist-vim/edit/collaborators">member</a>.
  
        <br/>
        <br/>
        Every repository with this icon (<img src="/images/icons/private.png" alt="private" />) is private.
      </div>
  
      <div class="security public_security" style="">
        <a href="#public_repo" rel="facebox"><img src="/images/icons/public.png" alt="public" /></a>
      </div>
  
      <div id="public_repo" class="hidden">
        This repository is public.
        Anyone may fork, clone, or view it.
  
        <br/>
        <br/>
        Every repository with this icon (<img src="/images/icons/public.png" alt="public" />) is public.
      </div>
  
      
    </div>
    <div class="meta">
      <table>
        
        
          <tr>
            <td class="label">Description:</td>
            <td>
              <span id="repository_description" rel="/mattn/gist-vim/edit/update" class="">vimscript for gist</span> 
              
            </td>
          </tr>
        
  
        
          
            <tr>
              <td class="label">Homepage:</td>
              <td>
                
                  
                  <a href="http://mattn.kaoriya.net">http://mattn.kaoriya.net</a> 
                
              </td>
            </tr>
          
          
            <tr>
              <td class="label">Public&nbsp;Clone&nbsp;URL:</td>
              
              <td>
                <a href="git://github.com/mattn/gist-vim.git" class="git_url_facebox" rel="#git-clone">git://github.com/mattn/gist-vim.git</a>
                <div id="git-clone" style="display:none;">
                  Give this clone URL to anyone.
                  <br/>
                  <code>git clone git://github.com/mattn/gist-vim.git </code>
                </div>
              </td>
            </tr>
          
          
          
  
          
          
          
      </table>
      
          </div>
  </div>



</div>

<div id="commit">
  <div class="group">
      
  <div class="envelope commit">
    <div class="human">
      
        <div class="message"><pre><a href="/mattn/gist-vim/commit/c7d6d248ff8c9e8f48ce45436a8af880c456e4f9">treat &quot;-&quot; as user name.</a> </pre></div>
      

      <div class="actor">
        <div class="gravatar">
          
          <img alt="" height="30" src="http://www.gravatar.com/avatar/1ba93fd9e39ebf48777f217c38e768fd?s=30&amp;d=http%3A%2F%2Fgithub.com%2Fimages%2Fgravatars%2Fgravatar-30.png" width="30" />
        </div>
        <div class="name"><a href="/mattn">mattn</a> <span>(author)</span></div>
          <div class="date">
            <abbr class="relatize" title="2008-11-17 17:23:47">Mon Nov 17 17:23:47 -0800 2008</abbr> 
          </div>
      </div>
  
      
  
    </div>
    <div class="machine">
      <span>c</span>ommit&nbsp;&nbsp;<a href="/mattn/gist-vim/commit/c7d6d248ff8c9e8f48ce45436a8af880c456e4f9" hotkey="c">c7d6d248ff8c9e8f48ce45436a8af880c456e4f9</a><br />
      <span>t</span>ree&nbsp;&nbsp;&nbsp;&nbsp;<a href="/mattn/gist-vim/tree/c7d6d248ff8c9e8f48ce45436a8af880c456e4f9/gist.vim" hotkey="t">596607c018d54b5c8ea6465a0164e31099a593e4</a><br />
  
      
        <span>p</span>arent&nbsp;
        
        <a href="/mattn/gist-vim/tree/f61baed3f429f357f844e2ef419d54b688573b69/gist.vim" hotkey="p">f61baed3f429f357f844e2ef419d54b688573b69</a>
      
  
    </div>
  </div>

  </div>
</div>





  




  
    <div id="path">
      <b><a href="/mattn/gist-vim/tree">gist-vim</a></b> / gist.vim
    </div>

    
      <div id="files">
  <div class="file">
    <div class="meta">
      <div class="info">
        <span>100644</span>
        <span>211 lines (196 sloc)</span>
        <span>5.358 kb</span>
      </div>
      <div class="actions">
        
        <a href="/mattn/gist-vim/raw/master/gist.vim" id="raw-url">raw</a>
        
          <a href="/mattn/gist-vim/blame/master/gist.vim">blame</a>
        
        <a href="/mattn/gist-vim/commits/master/gist.vim">history</a>
      </div>
    </div>
    
  <div class="data syntax">
    
      <table cellpadding="0" cellspacing="0">
        <tr>
          <td>
            
            <pre class="line_numbers">
<span id="LID1" rel="#L1">1</span>
<span id="LID2" rel="#L2">2</span>
<span id="LID3" rel="#L3">3</span>
<span id="LID4" rel="#L4">4</span>
<span id="LID5" rel="#L5">5</span>
<span id="LID6" rel="#L6">6</span>
<span id="LID7" rel="#L7">7</span>
<span id="LID8" rel="#L8">8</span>
<span id="LID9" rel="#L9">9</span>
<span id="LID10" rel="#L10">10</span>
<span id="LID11" rel="#L11">11</span>
<span id="LID12" rel="#L12">12</span>
<span id="LID13" rel="#L13">13</span>
<span id="LID14" rel="#L14">14</span>
<span id="LID15" rel="#L15">15</span>
<span id="LID16" rel="#L16">16</span>
<span id="LID17" rel="#L17">17</span>
<span id="LID18" rel="#L18">18</span>
<span id="LID19" rel="#L19">19</span>
<span id="LID20" rel="#L20">20</span>
<span id="LID21" rel="#L21">21</span>
<span id="LID22" rel="#L22">22</span>
<span id="LID23" rel="#L23">23</span>
<span id="LID24" rel="#L24">24</span>
<span id="LID25" rel="#L25">25</span>
<span id="LID26" rel="#L26">26</span>
<span id="LID27" rel="#L27">27</span>
<span id="LID28" rel="#L28">28</span>
<span id="LID29" rel="#L29">29</span>
<span id="LID30" rel="#L30">30</span>
<span id="LID31" rel="#L31">31</span>
<span id="LID32" rel="#L32">32</span>
<span id="LID33" rel="#L33">33</span>
<span id="LID34" rel="#L34">34</span>
<span id="LID35" rel="#L35">35</span>
<span id="LID36" rel="#L36">36</span>
<span id="LID37" rel="#L37">37</span>
<span id="LID38" rel="#L38">38</span>
<span id="LID39" rel="#L39">39</span>
<span id="LID40" rel="#L40">40</span>
<span id="LID41" rel="#L41">41</span>
<span id="LID42" rel="#L42">42</span>
<span id="LID43" rel="#L43">43</span>
<span id="LID44" rel="#L44">44</span>
<span id="LID45" rel="#L45">45</span>
<span id="LID46" rel="#L46">46</span>
<span id="LID47" rel="#L47">47</span>
<span id="LID48" rel="#L48">48</span>
<span id="LID49" rel="#L49">49</span>
<span id="LID50" rel="#L50">50</span>
<span id="LID51" rel="#L51">51</span>
<span id="LID52" rel="#L52">52</span>
<span id="LID53" rel="#L53">53</span>
<span id="LID54" rel="#L54">54</span>
<span id="LID55" rel="#L55">55</span>
<span id="LID56" rel="#L56">56</span>
<span id="LID57" rel="#L57">57</span>
<span id="LID58" rel="#L58">58</span>
<span id="LID59" rel="#L59">59</span>
<span id="LID60" rel="#L60">60</span>
<span id="LID61" rel="#L61">61</span>
<span id="LID62" rel="#L62">62</span>
<span id="LID63" rel="#L63">63</span>
<span id="LID64" rel="#L64">64</span>
<span id="LID65" rel="#L65">65</span>
<span id="LID66" rel="#L66">66</span>
<span id="LID67" rel="#L67">67</span>
<span id="LID68" rel="#L68">68</span>
<span id="LID69" rel="#L69">69</span>
<span id="LID70" rel="#L70">70</span>
<span id="LID71" rel="#L71">71</span>
<span id="LID72" rel="#L72">72</span>
<span id="LID73" rel="#L73">73</span>
<span id="LID74" rel="#L74">74</span>
<span id="LID75" rel="#L75">75</span>
<span id="LID76" rel="#L76">76</span>
<span id="LID77" rel="#L77">77</span>
<span id="LID78" rel="#L78">78</span>
<span id="LID79" rel="#L79">79</span>
<span id="LID80" rel="#L80">80</span>
<span id="LID81" rel="#L81">81</span>
<span id="LID82" rel="#L82">82</span>
<span id="LID83" rel="#L83">83</span>
<span id="LID84" rel="#L84">84</span>
<span id="LID85" rel="#L85">85</span>
<span id="LID86" rel="#L86">86</span>
<span id="LID87" rel="#L87">87</span>
<span id="LID88" rel="#L88">88</span>
<span id="LID89" rel="#L89">89</span>
<span id="LID90" rel="#L90">90</span>
<span id="LID91" rel="#L91">91</span>
<span id="LID92" rel="#L92">92</span>
<span id="LID93" rel="#L93">93</span>
<span id="LID94" rel="#L94">94</span>
<span id="LID95" rel="#L95">95</span>
<span id="LID96" rel="#L96">96</span>
<span id="LID97" rel="#L97">97</span>
<span id="LID98" rel="#L98">98</span>
<span id="LID99" rel="#L99">99</span>
<span id="LID100" rel="#L100">100</span>
<span id="LID101" rel="#L101">101</span>
<span id="LID102" rel="#L102">102</span>
<span id="LID103" rel="#L103">103</span>
<span id="LID104" rel="#L104">104</span>
<span id="LID105" rel="#L105">105</span>
<span id="LID106" rel="#L106">106</span>
<span id="LID107" rel="#L107">107</span>
<span id="LID108" rel="#L108">108</span>
<span id="LID109" rel="#L109">109</span>
<span id="LID110" rel="#L110">110</span>
<span id="LID111" rel="#L111">111</span>
<span id="LID112" rel="#L112">112</span>
<span id="LID113" rel="#L113">113</span>
<span id="LID114" rel="#L114">114</span>
<span id="LID115" rel="#L115">115</span>
<span id="LID116" rel="#L116">116</span>
<span id="LID117" rel="#L117">117</span>
<span id="LID118" rel="#L118">118</span>
<span id="LID119" rel="#L119">119</span>
<span id="LID120" rel="#L120">120</span>
<span id="LID121" rel="#L121">121</span>
<span id="LID122" rel="#L122">122</span>
<span id="LID123" rel="#L123">123</span>
<span id="LID124" rel="#L124">124</span>
<span id="LID125" rel="#L125">125</span>
<span id="LID126" rel="#L126">126</span>
<span id="LID127" rel="#L127">127</span>
<span id="LID128" rel="#L128">128</span>
<span id="LID129" rel="#L129">129</span>
<span id="LID130" rel="#L130">130</span>
<span id="LID131" rel="#L131">131</span>
<span id="LID132" rel="#L132">132</span>
<span id="LID133" rel="#L133">133</span>
<span id="LID134" rel="#L134">134</span>
<span id="LID135" rel="#L135">135</span>
<span id="LID136" rel="#L136">136</span>
<span id="LID137" rel="#L137">137</span>
<span id="LID138" rel="#L138">138</span>
<span id="LID139" rel="#L139">139</span>
<span id="LID140" rel="#L140">140</span>
<span id="LID141" rel="#L141">141</span>
<span id="LID142" rel="#L142">142</span>
<span id="LID143" rel="#L143">143</span>
<span id="LID144" rel="#L144">144</span>
<span id="LID145" rel="#L145">145</span>
<span id="LID146" rel="#L146">146</span>
<span id="LID147" rel="#L147">147</span>
<span id="LID148" rel="#L148">148</span>
<span id="LID149" rel="#L149">149</span>
<span id="LID150" rel="#L150">150</span>
<span id="LID151" rel="#L151">151</span>
<span id="LID152" rel="#L152">152</span>
<span id="LID153" rel="#L153">153</span>
<span id="LID154" rel="#L154">154</span>
<span id="LID155" rel="#L155">155</span>
<span id="LID156" rel="#L156">156</span>
<span id="LID157" rel="#L157">157</span>
<span id="LID158" rel="#L158">158</span>
<span id="LID159" rel="#L159">159</span>
<span id="LID160" rel="#L160">160</span>
<span id="LID161" rel="#L161">161</span>
<span id="LID162" rel="#L162">162</span>
<span id="LID163" rel="#L163">163</span>
<span id="LID164" rel="#L164">164</span>
<span id="LID165" rel="#L165">165</span>
<span id="LID166" rel="#L166">166</span>
<span id="LID167" rel="#L167">167</span>
<span id="LID168" rel="#L168">168</span>
<span id="LID169" rel="#L169">169</span>
<span id="LID170" rel="#L170">170</span>
<span id="LID171" rel="#L171">171</span>
<span id="LID172" rel="#L172">172</span>
<span id="LID173" rel="#L173">173</span>
<span id="LID174" rel="#L174">174</span>
<span id="LID175" rel="#L175">175</span>
<span id="LID176" rel="#L176">176</span>
<span id="LID177" rel="#L177">177</span>
<span id="LID178" rel="#L178">178</span>
<span id="LID179" rel="#L179">179</span>
<span id="LID180" rel="#L180">180</span>
<span id="LID181" rel="#L181">181</span>
<span id="LID182" rel="#L182">182</span>
<span id="LID183" rel="#L183">183</span>
<span id="LID184" rel="#L184">184</span>
<span id="LID185" rel="#L185">185</span>
<span id="LID186" rel="#L186">186</span>
<span id="LID187" rel="#L187">187</span>
<span id="LID188" rel="#L188">188</span>
<span id="LID189" rel="#L189">189</span>
<span id="LID190" rel="#L190">190</span>
<span id="LID191" rel="#L191">191</span>
<span id="LID192" rel="#L192">192</span>
<span id="LID193" rel="#L193">193</span>
<span id="LID194" rel="#L194">194</span>
<span id="LID195" rel="#L195">195</span>
<span id="LID196" rel="#L196">196</span>
<span id="LID197" rel="#L197">197</span>
<span id="LID198" rel="#L198">198</span>
<span id="LID199" rel="#L199">199</span>
<span id="LID200" rel="#L200">200</span>
<span id="LID201" rel="#L201">201</span>
<span id="LID202" rel="#L202">202</span>
<span id="LID203" rel="#L203">203</span>
<span id="LID204" rel="#L204">204</span>
<span id="LID205" rel="#L205">205</span>
<span id="LID206" rel="#L206">206</span>
<span id="LID207" rel="#L207">207</span>
<span id="LID208" rel="#L208">208</span>
<span id="LID209" rel="#L209">209</span>
<span id="LID210" rel="#L210">210</span>
<span id="LID211" rel="#L211">211</span>
</pre>
          </td>
          <td width="100%">
            
            
              <div class="highlight"><pre><div class="line" id="LC1"><span class="c">&quot;=============================================================================</span></div><div class="line" id="LC2"><span class="c">&quot; File: gist.vim</span></div><div class="line" id="LC3"><span class="c">&quot; Author: Yasuhiro Matsumoto &lt;mattn.jp@gmail.com&gt;</span></div><div class="line" id="LC4"><span class="c">&quot; Last Change: 18-Nov-2008. Jan 2008</span></div><div class="line" id="LC5"><span class="c">&quot; Version: 1.0</span></div><div class="line" id="LC6"><span class="c">&quot; Usage:</span></div><div class="line" id="LC7"><span class="c">&quot;</span></div><div class="line" id="LC8"><span class="c">&quot;   :Gist</span></div><div class="line" id="LC9"><span class="c">&quot;     post whole text to gist.</span></div><div class="line" id="LC10"><span class="c">&quot;</span></div><div class="line" id="LC11"><span class="c">&quot;   :&#39;&lt;,&#39;&gt;Gist</span></div><div class="line" id="LC12"><span class="c">&quot;     post selected text to gist.</span></div><div class="line" id="LC13"><span class="c">&quot;</span></div><div class="line" id="LC14"><span class="c">&quot;   :Gist -p</span></div><div class="line" id="LC15"><span class="c">&quot;     post whole text to gist with private.</span></div><div class="line" id="LC16"><span class="c">&quot;</span></div><div class="line" id="LC17"><span class="c">&quot;   :Gist XXXXX</span></div><div class="line" id="LC18"><span class="c">&quot;     edit gist XXXXX.</span></div><div class="line" id="LC19"><span class="c">&quot;</span></div><div class="line" id="LC20"><span class="c">&quot;   :Gist -l</span></div><div class="line" id="LC21"><span class="c">&quot;     list gists from mine.</span></div><div class="line" id="LC22"><span class="c">&quot;</span></div><div class="line" id="LC23"><span class="c">&quot;   :Gist -l mattn</span></div><div class="line" id="LC24"><span class="c">&quot;     list gists from mattn.</span></div><div class="line" id="LC25"><span class="c">&quot;</span></div><div class="line" id="LC26"><span class="c">&quot;   :Gist -la</span></div><div class="line" id="LC27"><span class="c">&quot;     list gists from all.</span></div><div class="line" id="LC28"><span class="c">&quot;</span></div><div class="line" id="LC29"><span class="c">&quot; Tips:</span></div><div class="line" id="LC30"><span class="c">&quot;   if set g:gist_clip_command, gist.vim will copy the gist code.</span></div><div class="line" id="LC31"><span class="c">&quot;</span></div><div class="line" id="LC32"><span class="c">&quot;   # mac</span></div><div class="line" id="LC33"><span class="c">&quot;   let g:gist_clip_command = &#39;pbcopy&#39;</span></div><div class="line" id="LC34"><span class="c">&quot;</span></div><div class="line" id="LC35"><span class="c">&quot;   # linux</span></div><div class="line" id="LC36"><span class="c">&quot;   let g:gist_clip_command = &#39;xclip -selection clipboard&#39;</span></div><div class="line" id="LC37"><span class="c">&quot;</span></div><div class="line" id="LC38"><span class="c">&quot;   # others(cygwin?)</span></div><div class="line" id="LC39"><span class="c">&quot;   let g:gist_clip_command = &#39;putclip&#39;</span></div><div class="line" id="LC40"><span class="c">&quot;</span></div><div class="line" id="LC41"><span class="c">&quot; GetLatestVimScripts: 2423 1 :AutoInstall: gist.vim</span></div><div class="line" id="LC42">&nbsp;</div><div class="line" id="LC43"><span class="k">if</span> &amp;<span class="k">cp</span> <span class="p">||</span> <span class="p">(</span>exists<span class="p">(</span><span class="s1">&#39;g:loaded_gist_vim&#39;</span><span class="p">)</span> &amp;&amp; g:loaded_gist_vim<span class="p">)</span></div><div class="line" id="LC44">&nbsp;&nbsp;<span class="k">finish</span></div><div class="line" id="LC45"><span class="k">endif</span></div><div class="line" id="LC46"><span class="k">let</span> g:loaded_gist_vim <span class="p">=</span> <span class="m">1</span></div><div class="line" id="LC47">&nbsp;</div><div class="line" id="LC48"><span class="k">if</span> <span class="p">(!</span>exists<span class="p">(</span><span class="s1">&#39;g:github_user&#39;</span><span class="p">)</span> <span class="p">||</span> <span class="p">!</span>exists<span class="p">(</span><span class="s1">&#39;g:github_token&#39;</span><span class="p">))</span> &amp;&amp; <span class="p">!</span>executable<span class="p">(</span><span class="s1">&#39;git&#39;</span><span class="p">)</span></div><div class="line" id="LC49">&nbsp;&nbsp;<span class="k">echoerr</span> <span class="c">&quot;Gist: require &#39;git&#39; command&quot;</span></div><div class="line" id="LC50">&nbsp;&nbsp;<span class="k">finish</span></div><div class="line" id="LC51"><span class="k">endif</span></div><div class="line" id="LC52">&nbsp;</div><div class="line" id="LC53"><span class="k">if</span> <span class="p">!</span>executable<span class="p">(</span><span class="s1">&#39;curl&#39;</span><span class="p">)</span></div><div class="line" id="LC54">&nbsp;&nbsp;<span class="k">echoerr</span> <span class="c">&quot;Gist: require &#39;curl&#39; command&quot;</span></div><div class="line" id="LC55">&nbsp;&nbsp;<span class="k">finish</span></div><div class="line" id="LC56"><span class="k">endif</span></div><div class="line" id="LC57">&nbsp;</div><div class="line" id="LC58"><span class="k">function</span><span class="p">!</span> s:nr2hex<span class="p">(</span>nr<span class="p">)</span></div><div class="line" id="LC59">&nbsp;&nbsp;<span class="k">let</span> <span class="k">n</span> <span class="p">=</span> a:nr</div><div class="line" id="LC60">&nbsp;&nbsp;<span class="k">let</span> <span class="k">r</span> <span class="p">=</span> <span class="c">&quot;&quot;</span></div><div class="line" id="LC61">&nbsp;&nbsp;<span class="k">while</span> <span class="k">n</span></div><div class="line" id="LC62">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> <span class="k">r</span> <span class="p">=</span> <span class="s1">&#39;0123456789ABCDEF&#39;</span>[<span class="k">n</span> % <span class="m">16</span>] . <span class="k">r</span></div><div class="line" id="LC63">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> <span class="k">n</span> <span class="p">=</span> <span class="k">n</span> / <span class="m">16</span></div><div class="line" id="LC64">&nbsp;&nbsp;<span class="k">endwhile</span></div><div class="line" id="LC65">&nbsp;&nbsp;<span class="k">return</span> <span class="k">r</span></div><div class="line" id="LC66"><span class="k">endfunction</span></div><div class="line" id="LC67">&nbsp;</div><div class="line" id="LC68"><span class="k">function</span><span class="p">!</span> s:encodeURIComponent<span class="p">(</span>instr<span class="p">)</span></div><div class="line" id="LC69">&nbsp;&nbsp;<span class="k">let</span> instr <span class="p">=</span> iconv<span class="p">(</span>a:instr<span class="p">,</span> &amp;<span class="nb">enc</span><span class="p">,</span> <span class="c">&quot;utf-8&quot;)</span></div><div class="line" id="LC70">&nbsp;&nbsp;<span class="k">let</span> len <span class="p">=</span> strlen<span class="p">(</span>instr<span class="p">)</span></div><div class="line" id="LC71">&nbsp;&nbsp;<span class="k">let</span> i <span class="p">=</span> <span class="m">0</span></div><div class="line" id="LC72">&nbsp;&nbsp;<span class="k">let</span> outstr <span class="p">=</span> <span class="s1">&#39;&#39;</span></div><div class="line" id="LC73">&nbsp;&nbsp;<span class="k">while</span> i <span class="p">&lt;</span> len</div><div class="line" id="LC74">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> <span class="nb">ch</span> <span class="p">=</span> instr[i]</div><div class="line" id="LC75">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">if</span> <span class="nb">ch</span> <span class="p">=~</span># <span class="s1">&#39;[0-9A-Za-z-._~!&#39;&#39;()*]&#39;</span></div><div class="line" id="LC76">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> outstr <span class="p">=</span> outstr . <span class="nb">ch</span></div><div class="line" id="LC77">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">elseif</span> <span class="nb">ch</span> <span class="p">==</span> <span class="s1">&#39; &#39;</span></div><div class="line" id="LC78">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> outstr <span class="p">=</span> outstr . <span class="s1">&#39;+&#39;</span></div><div class="line" id="LC79">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">else</span></div><div class="line" id="LC80">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> outstr <span class="p">=</span> outstr . <span class="s1">&#39;%&#39;</span> . substitute<span class="p">(</span><span class="s1">&#39;0&#39;</span> . s:nr2hex<span class="p">(</span>char2nr<span class="p">(</span><span class="nb">ch</span><span class="p">)),</span> <span class="s1">&#39;^.*\(..\)$&#39;</span><span class="p">,</span> <span class="s1">&#39;\1&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span></div><div class="line" id="LC81">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">endif</span></div><div class="line" id="LC82">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> i <span class="p">=</span> i <span class="p">+</span> <span class="m">1</span></div><div class="line" id="LC83">&nbsp;&nbsp;<span class="k">endwhile</span></div><div class="line" id="LC84">&nbsp;&nbsp;<span class="k">return</span> outstr</div><div class="line" id="LC85"><span class="k">endfunction</span></div><div class="line" id="LC86">&nbsp;</div><div class="line" id="LC87"><span class="k">function</span><span class="p">!</span> s:GistList<span class="p">(</span>user<span class="p">,</span> token<span class="p">,</span> gistls<span class="p">)</span></div><div class="line" id="LC88">&nbsp;&nbsp;<span class="k">if</span> a:gistls <span class="p">==</span> <span class="s1">&#39;-all&#39;</span></div><div class="line" id="LC89">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> url <span class="p">=</span> <span class="s1">&#39;http://gist.github.com/gists&#39;</span></div><div class="line" id="LC90">&nbsp;&nbsp;<span class="k">else</span></div><div class="line" id="LC91">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> url <span class="p">=</span> <span class="s1">&#39;http://gist.github.com/&#39;</span>.a:gistls</div><div class="line" id="LC92">&nbsp;&nbsp;<span class="k">endif</span></div><div class="line" id="LC93">&nbsp;&nbsp;exec <span class="s1">&#39;silent split gist:&#39;</span>.a:gistls</div><div class="line" id="LC94">&nbsp;&nbsp;exec <span class="s1">&#39;silent 0r! curl -s &#39;</span>.url</div><div class="line" id="LC95">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&gt;/</span><span class="p">&gt;</span>\<span class="k">r</span>/g</div><div class="line" id="LC96">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&lt;/</span>\<span class="k">r</span><span class="p">&lt;</span>/g</div><div class="line" id="LC97">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %g<span class="sr">/&lt;pre/</span><span class="p">,</span><span class="sr">/&lt;\/pre/</span><span class="k">join</span><span class="p">!</span></div><div class="line" id="LC98">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %v<span class="sr">/^\(gist:\|&lt;pre&gt;\)/</span><span class="k">d</span> _</div><div class="line" id="LC99">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&lt;div[^&gt;]*&gt;/</span>\<span class="k">r</span>  /g</div><div class="line" id="LC100">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&lt;\/pre&gt;/</span>\<span class="k">r</span>/g</div><div class="line" id="LC101">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&lt;[^&gt;]\+&gt;/</span>/g</div><div class="line" id="LC102">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/\r/</span>/g</div><div class="line" id="LC103">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&amp;nbsp;/</span> /g</div><div class="line" id="LC104">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&amp;quot;/</span>&quot;/g</div><div class="line" id="LC105">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&amp;amp;/</span>\&amp;/g</div><div class="line" id="LC106">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&amp;gt;/</span><span class="p">&gt;</span>/g</div><div class="line" id="LC107">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&amp;lt;/</span><span class="p">&lt;</span>/g</div><div class="line" id="LC108">&nbsp;&nbsp;<span class="k">silent</span><span class="p">!</span> %s<span class="sr">/&amp;#\(\d\d\);/</span>\<span class="p">=</span>nr2char<span class="p">(</span>submatch<span class="p">(</span><span class="m">1</span><span class="p">))</span>/g</div><div class="line" id="LC109">&nbsp;&nbsp;<span class="k">setlocal</span> <span class="nb">nomodified</span></div><div class="line" id="LC110">&nbsp;&nbsp;<span class="nb">syntax</span> <span class="k">match</span> SpecialKey <span class="sr">/^gist: /</span>he<span class="p">=</span><span class="k">e</span><span class="m">-2</span></div><div class="line" id="LC111">&nbsp;&nbsp;exec <span class="s1">&#39;nnoremap &lt;silent&gt; &lt;buffer&gt; &lt;cr&gt; :call &lt;SID&gt;GistListAction()&lt;cr&gt;&#39;</span></div><div class="line" id="LC112">&nbsp;&nbsp;normal<span class="p">!</span> gg</div><div class="line" id="LC113"><span class="k">endfunction</span></div><div class="line" id="LC114">&nbsp;</div><div class="line" id="LC115"><span class="k">function</span><span class="p">!</span> s:GistGet<span class="p">(</span>user<span class="p">,</span> token<span class="p">,</span> gistid<span class="p">)</span></div><div class="line" id="LC116">&nbsp;&nbsp;<span class="k">let</span> url <span class="p">=</span> <span class="s1">&#39;http://gist.github.com/&#39;</span>.a:gistid.<span class="s1">&#39;.txt&#39;</span></div><div class="line" id="LC117">&nbsp;&nbsp;exec <span class="s1">&#39;silent split gist:&#39;</span>.a:gistid</div><div class="line" id="LC118">&nbsp;&nbsp;exec <span class="s1">&#39;silent 0r! curl -s &#39;</span>.url</div><div class="line" id="LC119">&nbsp;&nbsp;<span class="k">setlocal</span> <span class="nb">nomodified</span></div><div class="line" id="LC120">&nbsp;&nbsp;normal<span class="p">!</span> gg</div><div class="line" id="LC121">&nbsp;&nbsp;<span class="k">if</span> exists<span class="p">(</span><span class="s1">&#39;g:gist_clip_command&#39;</span><span class="p">)</span></div><div class="line" id="LC122">&nbsp;&nbsp;&nbsp;&nbsp;exec <span class="s1">&#39;silent w !&#39;</span>.g:gist_clip_command</div><div class="line" id="LC123">&nbsp;&nbsp;<span class="k">endif</span></div><div class="line" id="LC124"><span class="k">endfunction</span></div><div class="line" id="LC125">&nbsp;</div><div class="line" id="LC126"><span class="k">function</span><span class="p">!</span> s:GistListAction<span class="p">()</span></div><div class="line" id="LC127">&nbsp;&nbsp;<span class="k">let</span> line <span class="p">=</span> getline<span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span></div><div class="line" id="LC128">&nbsp;&nbsp;<span class="k">let</span> mx <span class="p">=</span> <span class="s1">&#39;^gist: \(\w\+\)$&#39;</span></div><div class="line" id="LC129">&nbsp;&nbsp;<span class="k">if</span> line <span class="p">=~</span># mx</div><div class="line" id="LC130">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> gistid <span class="p">=</span> substitute<span class="p">(</span>line<span class="p">,</span> mx<span class="p">,</span> <span class="s1">&#39;\1&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span></div><div class="line" id="LC131">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">call</span> s:GistGet<span class="p">(</span>g:github_user<span class="p">,</span> g:github_token<span class="p">,</span> gistid<span class="p">)</span></div><div class="line" id="LC132">&nbsp;&nbsp;<span class="k">endif</span></div><div class="line" id="LC133"><span class="k">endfunction</span></div><div class="line" id="LC134">&nbsp;</div><div class="line" id="LC135"><span class="k">function</span><span class="p">!</span> s:GistPut<span class="p">(</span>user<span class="p">,</span> token<span class="p">,</span> content<span class="p">,</span> private<span class="p">)</span></div><div class="line" id="LC136">&nbsp;&nbsp;<span class="k">let</span> ext <span class="p">=</span> expand<span class="p">(</span><span class="s1">&#39;%:e&#39;</span><span class="p">)</span></div><div class="line" id="LC137">&nbsp;&nbsp;<span class="k">let</span> ext <span class="p">=</span> len<span class="p">(</span>ext<span class="p">)</span> ? <span class="s1">&#39;.&#39;</span>.ext : <span class="s1">&#39;&#39;</span></div><div class="line" id="LC138">&nbsp;&nbsp;<span class="k">let</span> name <span class="p">=</span> expand<span class="p">(</span><span class="s1">&#39;%:t&#39;</span><span class="p">)</span></div><div class="line" id="LC139">&nbsp;&nbsp;<span class="k">let</span> query <span class="p">=</span> [</div><div class="line" id="LC140">&nbsp;&nbsp;&nbsp;&nbsp;\ <span class="s1">&#39;file_ext[gistfile1]=%s&#39;</span><span class="p">,</span></div><div class="line" id="LC141">&nbsp;&nbsp;&nbsp;&nbsp;\ <span class="s1">&#39;file_name[gistfile1]=%s&#39;</span><span class="p">,</span></div><div class="line" id="LC142">&nbsp;&nbsp;&nbsp;&nbsp;\ <span class="s1">&#39;file_contents[gistfile1]=%s&#39;</span><span class="p">,</span></div><div class="line" id="LC143">&nbsp;&nbsp;&nbsp;&nbsp;\ <span class="s1">&#39;login=%s&#39;</span><span class="p">,</span></div><div class="line" id="LC144">&nbsp;&nbsp;&nbsp;&nbsp;\ <span class="s1">&#39;token=%s&#39;</span><span class="p">,</span></div><div class="line" id="LC145">&nbsp;&nbsp;&nbsp;&nbsp;\ ]</div><div class="line" id="LC146">&nbsp;&nbsp;<span class="k">if</span> len<span class="p">(</span>a:private<span class="p">)</span></div><div class="line" id="LC147">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">call</span> add<span class="p">(</span>query<span class="p">,</span> <span class="s1">&#39;private=on&#39;</span><span class="p">)</span></div><div class="line" id="LC148">&nbsp;&nbsp;<span class="k">endif</span></div><div class="line" id="LC149">&nbsp;&nbsp;<span class="k">let</span> squery <span class="p">=</span> printf<span class="p">(</span><span class="k">join</span><span class="p">(</span>query<span class="p">,</span> <span class="s1">&#39;&amp;&#39;</span><span class="p">),</span></div><div class="line" id="LC150">&nbsp;&nbsp;&nbsp;&nbsp;\ s:encodeURIComponent<span class="p">(</span>ext<span class="p">),</span></div><div class="line" id="LC151">&nbsp;&nbsp;&nbsp;&nbsp;\ s:encodeURIComponent<span class="p">(</span>name<span class="p">),</span></div><div class="line" id="LC152">&nbsp;&nbsp;&nbsp;&nbsp;\ s:encodeURIComponent<span class="p">(</span>a:content<span class="p">),</span></div><div class="line" id="LC153">&nbsp;&nbsp;&nbsp;&nbsp;\ s:encodeURIComponent<span class="p">(</span>a:user<span class="p">),</span></div><div class="line" id="LC154">&nbsp;&nbsp;&nbsp;&nbsp;\ s:encodeURIComponent<span class="p">(</span>a:token<span class="p">))</span></div><div class="line" id="LC155">&nbsp;&nbsp;unlet query</div><div class="line" id="LC156">&nbsp;</div><div class="line" id="LC157">&nbsp;&nbsp;<span class="k">let</span> <span class="k">file</span> <span class="p">=</span> tempname<span class="p">()</span></div><div class="line" id="LC158">&nbsp;&nbsp;exec <span class="s1">&#39;redir! &gt; &#39;</span>.<span class="k">file</span> </div><div class="line" id="LC159">&nbsp;&nbsp;<span class="k">silent</span> echo squery</div><div class="line" id="LC160">&nbsp;&nbsp;<span class="k">redir</span> END</div><div class="line" id="LC161">&nbsp;&nbsp;<span class="k">echon</span> <span class="c">&quot; Posting it to gist... &quot;</span></div><div class="line" id="LC162">&nbsp;&nbsp;<span class="k">let</span> quote <span class="p">=</span> &amp;<span class="nb">shellxquote</span> <span class="p">==</span> <span class="s1">&#39;&quot;&#39;</span> ?  <span class="c">&quot;&#39;&quot; : &#39;&quot;&#39;</span></div><div class="line" id="LC163">&nbsp;&nbsp;<span class="k">let</span> url <span class="p">=</span> <span class="s1">&#39;http://gist.github.com/gists&#39;</span></div><div class="line" id="LC164">&nbsp;&nbsp;<span class="k">let</span> <span class="k">res</span> <span class="p">=</span> system<span class="p">(</span><span class="s1">&#39;curl -i -d @&#39;</span>.quote.<span class="k">file</span>.quote.<span class="s1">&#39; &#39;</span>.url<span class="p">)</span></div><div class="line" id="LC165">&nbsp;&nbsp;<span class="k">call</span> delete<span class="p">(</span><span class="k">file</span><span class="p">)</span></div><div class="line" id="LC166">&nbsp;&nbsp;<span class="k">let</span> <span class="k">res</span> <span class="p">=</span> matchstr<span class="p">(</span>split<span class="p">(</span><span class="k">res</span><span class="p">,</span> <span class="c">&quot;\n&quot;), &#39;^Location: &#39;)</span></div><div class="line" id="LC167">&nbsp;&nbsp;<span class="k">let</span> <span class="k">res</span> <span class="p">=</span> substitute<span class="p">(</span><span class="k">res</span><span class="p">,</span> <span class="s1">&#39;^.*: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span></div><div class="line" id="LC168">&nbsp;&nbsp;echo <span class="s1">&#39;done: &#39;</span>.<span class="k">res</span></div><div class="line" id="LC169"><span class="k">endfunction</span></div><div class="line" id="LC170">&nbsp;</div><div class="line" id="LC171"><span class="k">function</span><span class="p">!</span> Gist<span class="p">(</span>line1<span class="p">,</span> line2<span class="p">,</span> ...<span class="p">)</span></div><div class="line" id="LC172">&nbsp;&nbsp;<span class="k">if</span> <span class="p">!</span>exists<span class="p">(</span><span class="s1">&#39;g:github_user&#39;</span><span class="p">)</span></div><div class="line" id="LC173">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> g:github_user <span class="p">=</span> substitute<span class="p">(</span>system<span class="p">(</span><span class="s1">&#39;git config --global github.user&#39;</span><span class="p">),</span> <span class="c">&quot;\n&quot;, &#39;&#39;, &#39;&#39;)</span></div><div class="line" id="LC174">&nbsp;&nbsp;<span class="k">endif</span></div><div class="line" id="LC175">&nbsp;&nbsp;<span class="k">if</span> <span class="p">!</span>exists<span class="p">(</span><span class="s1">&#39;g:github_token&#39;</span><span class="p">)</span></div><div class="line" id="LC176">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> g:github_token <span class="p">=</span> substitute<span class="p">(</span>system<span class="p">(</span><span class="s1">&#39;git config --global github.token&#39;</span><span class="p">),</span> <span class="c">&quot;\n&quot;, &#39;&#39;, &#39;&#39;)</span></div><div class="line" id="LC177">&nbsp;&nbsp;<span class="k">endif</span></div><div class="line" id="LC178">&nbsp;</div><div class="line" id="LC179">&nbsp;&nbsp;<span class="k">let</span> <span class="k">opt</span> <span class="p">=</span> <span class="p">(</span>a:<span class="m">0</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> ? substitute<span class="p">(</span>a:<span class="m">1</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span> : <span class="s1">&#39;&#39;</span></div><div class="line" id="LC180">&nbsp;&nbsp;<span class="k">let</span> private <span class="p">=</span> <span class="s1">&#39;&#39;</span></div><div class="line" id="LC181">&nbsp;&nbsp;<span class="k">let</span> gistid <span class="p">=</span> <span class="s1">&#39;&#39;</span></div><div class="line" id="LC182">&nbsp;&nbsp;<span class="k">let</span> gistls <span class="p">=</span> <span class="s1">&#39;&#39;</span></div><div class="line" id="LC183">&nbsp;&nbsp;<span class="k">let</span> listmx <span class="p">=</span> <span class="s1">&#39;^\(-l\|--list\)\s*\([^\s]\+\)\?$&#39;</span></div><div class="line" id="LC184">&nbsp;&nbsp;<span class="k">if</span> <span class="k">opt</span> <span class="p">=~</span> <span class="s1">&#39;^\(-la\|--listall\)&#39;</span></div><div class="line" id="LC185">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> gistls <span class="p">=</span> <span class="s1">&#39;-all&#39;</span></div><div class="line" id="LC186">&nbsp;&nbsp;<span class="k">elseif</span> <span class="k">opt</span> <span class="p">=~</span> listmx</div><div class="line" id="LC187">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> gistls <span class="p">=</span> substitute<span class="p">(</span><span class="k">opt</span><span class="p">,</span> listmx<span class="p">,</span> <span class="s1">&#39;\2&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span></div><div class="line" id="LC188">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">if</span> len<span class="p">(</span>gistls<span class="p">)</span> <span class="p">==</span> <span class="m">0</span></div><div class="line" id="LC189">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> gistls <span class="p">=</span> g:github_user</div><div class="line" id="LC190">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">endif</span></div><div class="line" id="LC191">&nbsp;&nbsp;<span class="k">elseif</span> <span class="k">opt</span> <span class="p">=~</span> <span class="s1">&#39;-p\|--private&#39;</span></div><div class="line" id="LC192">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> private <span class="p">=</span> <span class="s1">&#39;on&#39;</span></div><div class="line" id="LC193">&nbsp;&nbsp;<span class="k">elseif</span> <span class="k">opt</span> <span class="p">=~</span> <span class="s1">&#39;^\w\+$&#39;</span></div><div class="line" id="LC194">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> gistid <span class="p">=</span> <span class="k">opt</span></div><div class="line" id="LC195">&nbsp;&nbsp;<span class="k">elseif</span> len<span class="p">(</span><span class="k">opt</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">0</span></div><div class="line" id="LC196">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echoerr</span> <span class="s1">&#39;Invalid arguments&#39;</span></div><div class="line" id="LC197">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">return</span></div><div class="line" id="LC198">&nbsp;&nbsp;<span class="k">endif</span></div><div class="line" id="LC199">&nbsp;</div><div class="line" id="LC200">&nbsp;&nbsp;<span class="k">if</span> len<span class="p">(</span>gistls<span class="p">)</span> <span class="p">&gt;</span> <span class="m">0</span></div><div class="line" id="LC201">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">call</span> s:GistList<span class="p">(</span>g:github_user<span class="p">,</span> g:github_token<span class="p">,</span> gistls<span class="p">)</span></div><div class="line" id="LC202">&nbsp;&nbsp;<span class="k">elseif</span> len<span class="p">(</span>gistid<span class="p">)</span> <span class="p">&gt;</span> <span class="m">0</span></div><div class="line" id="LC203">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">call</span> s:GistGet<span class="p">(</span>g:github_user<span class="p">,</span> g:github_token<span class="p">,</span> gistid<span class="p">)</span></div><div class="line" id="LC204">&nbsp;&nbsp;<span class="k">else</span></div><div class="line" id="LC205">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">let</span> content <span class="p">=</span> <span class="k">join</span><span class="p">(</span>getline<span class="p">(</span>a:line1<span class="p">,</span> a:line2<span class="p">),</span> <span class="c">&quot;\n&quot;)</span></div><div class="line" id="LC206">&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">call</span> s:GistPut<span class="p">(</span>g:github_user<span class="p">,</span> g:github_token<span class="p">,</span> content<span class="p">,</span> private<span class="p">)</span></div><div class="line" id="LC207">&nbsp;&nbsp;<span class="k">endif</span></div><div class="line" id="LC208"><span class="k">endfunction</span></div><div class="line" id="LC209">&nbsp;</div><div class="line" id="LC210">command<span class="p">!</span> <span class="p">-</span>nargs<span class="p">=</span>? <span class="p">-</span>range<span class="p">=</span>% Gist :<span class="k">call</span> Gist<span class="p">(&lt;</span>line1<span class="p">&gt;,</span> <span class="p">&lt;</span>line2<span class="p">&gt;,</span> <span class="p">&lt;</span><span class="k">f</span><span class="p">-</span>args<span class="p">&gt;)</span></div><div class="line" id="LC211">&nbsp;</div></pre></div>
            
          </td>
        </tr>
      </table>
    
  </div>


  </div>
</div>

    
  


  </div>

      
      
      <div class="push"></div>
    </div>
    
    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">T-Shirts</a> |            
            <a href="/blog">Blog</a> |             
            <a href="http://support.github.com/">Support</a> |
            <a href="/training">Git Training</a> | 
            <a href="/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> | 
            <a href="http://github.wordpress.com">Status</a> 
          </div>
          <div class="company">
            <span id="_rrt" title="0.86068s from github.com">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> | &copy;2008 | <a href="/site/terms">Terms of Service</a> | <a href="/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com"><img src="/images/modules/footer/engine_yard_logo.png" alt="Engine Yard" /></a>
          <div>
            Hosting provided by our<br /> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display:none;">
      This feature is coming soon.  Sit tight!
    </div>
        <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-3769691-2");
    pageTracker._initData();
    pageTracker._trackPageview();
    </script>

  </body>
</html>

